<!-- app/views/components/date_picker_component.html.erb -->

<div class="relative">
  <%= label_tag @name, nil, class: "block text-sm font-medium text-gray-700" %>
  <%= text_field_tag @name, @value, class: "block w-full mt-1 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" %>
  <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
    <svg class="h-5 w-5 text-gray-400" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
      <path d="M6 9l6 6 6-6"></path>
    </svg>
  </div>
</div>

<% if @error_message.present? %>
  <p class="mt-2 text-sm text-red-600" id="<%= @id %>_error"><%= @error_message %></p>
<% end %>

<script>
  flatpickr("#<%= @id %>", {
    enableTime: false,
    dateFormat: "Y-m-d",
    placeholder: "<%= @placeholder %>",
  });
</script>
